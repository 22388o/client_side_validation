{-
  Id: melody_arctic_labor_ZtHaBzu9ojbDahaGKEXe5v9DfSDxLERbLkEB23R6Q6V
  Name: CommitVerify
  Version: 0.1.0
  Description: Client-side-validation deterministic commitments
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

typelib CommitVerify

import lagoon_rodent_option_9KALDYR8Nyjq4FdMW6kYoL7vdkWnqPqNuFnmE9qHpNjZ as Std
-- Imports:
-- U5 := CafeAverageCompass03MDHMYsJt8d1gUiyx5vGCWcNLQ7biek6UTjHg3ksW4Bf



-- ComplexSecondJason0F8mU5NPc8Z5CMnkSFGdF5UxrPsdcBS6B5DCyP5kJPgWc
data Commitment       :: [Byte ^ 32]
-- CannonFreddieRodeo0qp6pMjMCcukxxZdkM2PtfNWfJjXKoVHXtXSBCsYjQwY
data MerkleBlock      :: depth Std.U5 {- CafeAverageCompass03MDHMYsJt8d1gUiyx5vGCWcNLQ7biek6UTjHg3ksW4Bf -}
                       , cofactor U16
                       , crossSection [TreeNode ^ ..0xffffffff]
                       , entropy U64?
-- BazaarOrchidJacket06kxYeCatpncbA9UiTdsFbxbxJdU56x6MdmTRkEeGAv6R
data MerkleNode       :: [Byte ^ 32]
-- MillionTruckWeather09FbrjZLnMDfbrN9gEbWij5HNkxqAVaZBkoW2UvKdYw4B
data MerkleProof      :: pos U32
                       , cofactor U16
                       , path [MerkleNode ^ ..0x20]
-- IngridSincereNavy057jCv2LWrdn89GzuSYaH17f21N3su76uM2tEaG1dwwoT
data MerkleTree       :: depth Std.U5 {- CafeAverageCompass03MDHMYsJt8d1gUiyx5vGCWcNLQ7biek6UTjHg3ksW4Bf -}
                       , entropy U64
                       , cofactor U16
                       , messages {ProtocolId -> ^ ..0xffffff Message}
                       , map {U32 -> ^ ..0xffffff ProtocolId, Message}
-- LondonMagnetCake04ajqScXjJ6wQ5af2zgBFzzP7k1qzD6DXXU28taQidCcA
data Message          :: [Byte ^ 32]
-- IndigoBuenosFriday04GenVCt5Xq6xtnJDjT98FehgCS8rTmwEzbjwGkaUVjHz
data ProtocolId       :: [Byte ^ 32]
-- AxiomPenguinTicket0D7Q2eTnYyjN6gMZnZYrMG6gmRwmtnxyGLeqBbki8DFLv
data TreeNode         :: concealedNode (depth Std.U5 {- CafeAverageCompass03MDHMYsJt8d1gUiyx5vGCWcNLQ7biek6UTjHg3ksW4Bf -}, hash MerkleNode)
                       | commitmentLeaf (protocolId ProtocolId, message Message)

